<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        Array.prototype.reduce = function(callback, initialValue) {
            var previous = initialValue, //初始化参数,供后续代码使用
                k = 0, //提供循环使用
                length = this.length; //高度决定循环次数
            if (typeof initialValue === "undefined") { //如果传入的第二个参数为空
                previous = this[0]; //第二个参数的值为索引0的元素
                k = 1;
            }
            if (typeof callback === "function") { //如果第一个参数是函数的话
                for (k; k < length; k++) {
                    this.hasOwnProperty(k) && (previous = callback(previous, this[k], k, this));
                    //hasOwnProperty() 方法会返回一个布尔值，指示对象自身属性中是否具有指定的属性（也就是，是否有指定的键）。
                    //previous = callback  callback代表传入的第一个化简函数,模拟其参数,参数分别为
                    //初始变量
                    //当前变量
                    //当前变量对应的元素在数组中的索引(从0开始)
                    //原数组对象
                }
            }
            return previous;
        };
        [1, 2, 3, 4, 5].reduce(function(prev, cur) {
            console.log(prev, cur)
            return prev + cur;
        }, 0);
    </script>
</body>

</html>