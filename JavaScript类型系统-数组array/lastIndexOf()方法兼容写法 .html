<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        Array.prototype.lastIndexOf = function(searchElement, fromIndex) {
            var index = -1, //设定index为-1,找不到元素默认为-1
                length = this.length; //设定数组长度
            fromIndex = fromIndex * 1 || length - 1; //必须是length-1,因为考虑0的存在,如果自定义函数的第二个参数是0,length也是0,后续的for循环无法正确匹配到元素
            for (var k = length - 1; k > -1; k -= 1) { //长度-1是因为数组索引永远比长度-1
                if (k <= fromIndex && this[k] === searchElement) { //当k小于索引开始处,this[k]的值又等于搜索的元素,返回index的值
                    index = k;
                    break;
                }
            }
            return index; //返回index值
        };
        var array = [1, 2, 3, 6, 7, 8, 4];
        console.log(array.lastIndexOf(2, 0));
    </script>
</body>

</html>